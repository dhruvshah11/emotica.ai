<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Wellness Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div id="container">
    <h2>Mental Wellness Chatbot</h2>  <!-- Added a title -->
    <div id="videoContainer">
        <video autoplay playsinline id="videoElement"></video>
    </div>
    <div id="chatbox">
        <div class="message bot-message" id="greeting">Hi there! How are you feeling today?</div>
    </div>
    <div id="input-container">  <!-- Container for input and button -->
        <input type="text" id="user_input" placeholder="Type your message...">
        <button id="send_button">Send</button>
    </div>
    <div id="status">  <!-- Display connection status -->
        <p>Connecting...</p>
    </div>

</div>


<script src="{{ url_for('static', filename='script.js') }}"></script>
<script>
    // Connection status updates
    const statusElement = document.getElementById('status');
    
    // Initial status
    statusElement.innerText = "Connecting...";
    
    // Listen for successful connection (example - adapt to your backend setup)
    // This assumes your backend sends a specific message or response on successful connection
    // Replace with your actual connection establishment logic.
    fetch('/get_emotion', { method: 'HEAD' }) // A HEAD request to check connection
        .then(response => {
            if (response.ok) {
                statusElement.innerText = "Connected!";
                statusElement.style.color = "green";
            } else {
                statusElement.innerText = "Connection failed. Please refresh.";
                statusElement.style.color = "red";
            }
        })
        .catch(error => {
            statusElement.innerText = "Connection error. Please check your network.";
            statusElement.style.color = "red";
        });

</script>

</body>
</html>